<textarea cols="200" rows="10" [(ngModel)]="yamlText"></textarea>
<br>
<button mat-raised-button color="primary" (click)="onLoad()">Load</button>
<button mat-raised-button color="warn" (click)="onDump()">Dump</button>
<br>

<form fxLayout="row" fxLayoutAlign="space-around center" [formGroup]="formGroup">
    <!--        <div mat-line>server: {{cluster?.cluster?.server}}</div>-->
    <!--        <div mat-line>certificate-authority: <pre *ngIf="cluster?.cluster">{{cluster.cluster["certificate-authority"]}}</pre></div>-->
    <!--        <div mat-line>certificate-authority-data: <pre *ngIf="cluster?.cluster">{{cluster.cluster["certificate-authority-data"]}}</pre></div>-->

  <div fxLayout="column" formArrayName="clusters">
    <div mat-subheader>Clusters</div>
    <span *ngFor="let cluster of clusters.controls; let i=index" >
      <mat-icon>cluster</mat-icon>
      <mat-form-field appearance="fill" [formGroupName]="i">
        <mat-label>Name</mat-label>
        <input type="text" matInput formControlName="name" value="">
      </mat-form-field>
    </span>
  </div>

  <div fxLayout="column" formArrayName="contexts">
    <div mat-subheader>Clusters</div>
    <span *ngFor="let context of contexts.controls; let i=index" [formGroupName]="i">
      <mat-icon>context</mat-icon>
      <mat-form-field appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name" formControlName="name">
      </mat-form-field>
    </span>
  </div>

  <div fxLayout="column" formArrayName="users">
    <div mat-subheader>Users</div>
    <span *ngFor="let user of users.controls; let i=index" [formGroupName]="i">
      <mat-icon>user</mat-icon>
      <mat-form-field appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name" formControlName="name">
      </mat-form-field>
    </span>
  </div>
</form>
